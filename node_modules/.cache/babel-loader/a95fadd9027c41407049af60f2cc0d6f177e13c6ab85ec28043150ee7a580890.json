{"ast":null,"code":"import React,{useState}from'react';import Editor from'./components/Editor';import SuggestionOverlay from'./components/SuggestionOverlay';import ApiKeyInput from'./components/ApiKeyInput';import{analyzeText}from'./api';import{processTextWithSuggestions}from'./utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[text,setText]=useState('');const[apiKey,setApiKey]=useState('');const[suggestions,setSuggestions]=useState([]);const[isAnalyzing,setIsAnalyzing]=useState(false);const[error,setError]=useState(null);const[showOverlay,setShowOverlay]=useState(false);const handleAnalyzeText=async()=>{if(!text.trim()){setError('Please enter some text to analyze');return;}if(!apiKey.trim()){setError('Please enter your OpenAI API key');return;}setIsAnalyzing(true);setError(null);setSuggestions([]);try{const response=await analyzeText(text,apiKey);setSuggestions(response.suggestions||[]);setShowOverlay(true);}catch(err){setError(err instanceof Error?err.message:'An error occurred');console.error('Analysis error:',err);}finally{setIsAnalyzing(false);}};const handleClearAnalysis=()=>{setSuggestions([]);setShowOverlay(false);setError(null);};const spans=processTextWithSuggestions(text,suggestions);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"AI Writing Assistant\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Get intelligent suggestions for grammar, structure, and content improvements\"})]}),/*#__PURE__*/_jsx(ApiKeyInput,{apiKey:apiKey,onApiKeyChange:setApiKey}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-800\",children:showOverlay?'Text with Suggestions':'Your Text'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[showOverlay&&/*#__PURE__*/_jsx(\"button\",{onClick:handleClearAnalysis,className:\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",children:\"Edit Text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyzeText,disabled:isAnalyzing||!text.trim()||!apiKey.trim(),className:\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:isAnalyzing?'Analyzing...':'Analyze Text'})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:error})}),showOverlay&&suggestions.length>0?/*#__PURE__*/_jsx(SuggestionOverlay,{spans:spans}):/*#__PURE__*/_jsx(Editor,{text:text,onChange:setText,disabled:isAnalyzing,placeholder:\"Paste or type your text here to get AI-powered writing suggestions...\"})]}),showOverlay&&suggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Suggestion Levels\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-blue-200 border-b-2 border-blue-600 rounded mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-blue-800\",children:\"Level 1: Grammar\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Spelling, punctuation, subject-verb agreement\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-yellow-200 border-b-2 border-yellow-600 rounded mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-yellow-800\",children:\"Level 2: Structure\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Sentence flow, cohesion, redundancy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-red-200 border-b-2 border-red-600 rounded mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-red-800\",children:\"Level 3: Content\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Examples, clarity, paragraph structure\"})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-4\",children:\"Hover over highlighted text to see detailed suggestions\"})]}),!text.trim()&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setText(\"This are a sample text with several issue's. The sentences is short. They dont flow well together. The argument lack supporting evidence and could be more persuasive with example's.\"),className:\"text-sm text-blue-600 hover:text-blue-800 underline\",children:\"Load sample text with errors\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","Editor","SuggestionOverlay","ApiKeyInput","analyzeText","processTextWithSuggestions","jsx","_jsx","jsxs","_jsxs","App","text","setText","apiKey","setApiKey","suggestions","setSuggestions","isAnalyzing","setIsAnalyzing","error","setError","showOverlay","setShowOverlay","handleAnalyzeText","trim","response","err","Error","message","console","handleClearAnalysis","spans","className","children","onApiKeyChange","onClick","disabled","length","onChange","placeholder"],"sources":["/Users/thiagodonato/Documents/App_Projects/Edit_Text/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Editor from './components/Editor';\nimport SuggestionOverlay from './components/SuggestionOverlay';\nimport ApiKeyInput from './components/ApiKeyInput';\nimport { analyzeText } from './api';\nimport { processTextWithSuggestions } from './utils';\nimport { Suggestion } from './types';\n\nfunction App() {\n  const [text, setText] = useState('');\n  const [apiKey, setApiKey] = useState('');\n  const [suggestions, setSuggestions] = useState<Suggestion[]>([]);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showOverlay, setShowOverlay] = useState(false);\n\n  const handleAnalyzeText = async () => {\n    if (!text.trim()) {\n      setError('Please enter some text to analyze');\n      return;\n    }\n\n    if (!apiKey.trim()) {\n      setError('Please enter your OpenAI API key');\n      return;\n    }\n\n    setIsAnalyzing(true);\n    setError(null);\n    setSuggestions([]);\n\n    try {\n      const response = await analyzeText(text, apiKey);\n      setSuggestions(response.suggestions || []);\n      setShowOverlay(true);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n      console.error('Analysis error:', err);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  const handleClearAnalysis = () => {\n    setSuggestions([]);\n    setShowOverlay(false);\n    setError(null);\n  };\n\n  const spans = processTextWithSuggestions(text, suggestions);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            AI Writing Assistant\n          </h1>\n          <p className=\"text-gray-600\">\n            Get intelligent suggestions for grammar, structure, and content improvements\n          </p>\n        </div>\n\n        {/* API Key Input */}\n        <ApiKeyInput apiKey={apiKey} onApiKeyChange={setApiKey} />\n\n        {/* Editor Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-800\">\n              {showOverlay ? 'Text with Suggestions' : 'Your Text'}\n            </h2>\n            <div className=\"flex gap-3\">\n              {showOverlay && (\n                <button\n                  onClick={handleClearAnalysis}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n                >\n                  Edit Text\n                </button>\n              )}\n              <button\n                onClick={handleAnalyzeText}\n                disabled={isAnalyzing || !text.trim() || !apiKey.trim()}\n                className=\"px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isAnalyzing ? 'Analyzing...' : 'Analyze Text'}\n              </button>\n            </div>\n          </div>\n\n          {/* Error Display */}\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          {/* Editor or Overlay */}\n          {showOverlay && suggestions.length > 0 ? (\n            <SuggestionOverlay spans={spans} />\n          ) : (\n            <Editor\n              text={text}\n              onChange={setText}\n              disabled={isAnalyzing}\n              placeholder=\"Paste or type your text here to get AI-powered writing suggestions...\"\n            />\n          )}\n        </div>\n\n        {/* Legend */}\n        {showOverlay && suggestions.length > 0 && (\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Suggestion Levels</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-blue-200 border-b-2 border-blue-600 rounded mr-3\"></div>\n                <div>\n                  <p className=\"font-medium text-blue-800\">Level 1: Grammar</p>\n                  <p className=\"text-sm text-gray-600\">Spelling, punctuation, subject-verb agreement</p>\n                </div>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-yellow-200 border-b-2 border-yellow-600 rounded mr-3\"></div>\n                <div>\n                  <p className=\"font-medium text-yellow-800\">Level 2: Structure</p>\n                  <p className=\"text-sm text-gray-600\">Sentence flow, cohesion, redundancy</p>\n                </div>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-4 h-4 bg-red-200 border-b-2 border-red-600 rounded mr-3\"></div>\n                <div>\n                  <p className=\"font-medium text-red-800\">Level 3: Content</p>\n                  <p className=\"text-sm text-gray-600\">Examples, clarity, paragraph structure</p>\n                </div>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-500 mt-4\">\n              Hover over highlighted text to see detailed suggestions\n            </p>\n          </div>\n        )}\n\n        {/* Sample Text Button */}\n        {!text.trim() && (\n          <div className=\"text-center mt-6\">\n            <button\n              onClick={() => setText(\"This are a sample text with several issue's. The sentences is short. They dont flow well together. The argument lack supporting evidence and could be more persuasive with example's.\")}\n              className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n            >\n              Load sample text with errors\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}